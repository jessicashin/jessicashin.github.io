<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link
      rel="icon"
      href="%PUBLIC_URL%/favicon.svg"
      media="(prefers-color-scheme: light)"
    />
    <link
      rel="icon"
      href="%PUBLIC_URL%/favicon-dark.svg"
      media="(prefers-color-scheme: dark)"
    />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <title>Jessica Shin</title>
    <meta name="theme-color" content="#e7e5e4" />

    <script type="text/javascript">
      // https://github.com/rafgraph/spa-github-pages
      (function (l) {
        if (l.search[1] === "/") {
          var decoded = l.search
            .slice(1)
            .split("&")
            .map(function (s) {
              return s.replace(/~and~/g, "&");
            })
            .join("?");
          window.history.replaceState(
            null,
            null,
            l.pathname.slice(0, -1) + decoded + l.hash
          );
        }
      })(window.location);
    </script>

    <script type="text/javascript">
      try {
        const setDarkTheme = () => {
          document.documentElement.classList.add("dark");
          document
            .querySelector('meta[name="theme-color"]')
            .setAttribute("content", "#1c1917");
        };
        const setLightTheme = () => {
          document.documentElement.classList.remove("dark");
          document
            .querySelector('meta[name="theme-color"]')
            ?.setAttribute("content", "#e7e5e4");
        };

        if (
          localStorage.theme === "dark" ||
          (!("theme" in localStorage) &&
            window.matchMedia("(prefers-color-scheme: dark)").matches)
        ) {
          setDarkTheme();
        }

        window
          .matchMedia("(prefers-color-scheme: dark)")
          .addEventListener("change", (e) => {
            if (!("theme" in localStorage)) {
              e.matches ? setDarkTheme() : setLightTheme();
            }
          });

        window.addEventListener("DOMContentLoaded", () => {
          setTimeout(() =>
            document.body.classList.add("transition-colors", "duration-500")
          );
        });
      } catch (_) {}
    </script>
  </head>
  <body class="bg-white text-stone-800 dark:bg-stone-800 dark:text-stone-300">
    <div id="root"></div>
  </body>
</html>
